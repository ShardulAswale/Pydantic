# car_api â€” Simple Python REST API (Auth + CRUD + Pydantic V2)

A small FastAPI project showing:
- Modern packaging via `pyproject.toml`
- HTTP Basic authentication (in-memory users)
- CRUD REST endpoints for `Car`
- Pydantic V2 models generated by `datamodel-code-generator`
- Virtual environment + frozen `requirements.txt`

## Requirements
- Python 3.13+

## Setup
```bash
python3.13 -m venv .venv
source .venv/bin/activate   # Windows: .venv\Scripts\activate
python -m pip install --upgrade pip
pip install -e .[dev]
```

## Generate Pydantic models
```bash
python -m scripts.generate_models
```

## Run the API
```bash
uvicorn car_api.main:app --reload
```
Open docs: http://127.0.0.1:8000/docs

## Auth
- Username: `admin`
- Password: `changeme`

## Example Requests
Create a car:
```bash
curl -u admin:changeme -X POST http://127.0.0.1:8000/cars   -H "Content-Type: application/json"   -d '{"make":"Toyota","model":"Corolla","year":2020,"color":"Blue","price":15000.0}'
```
List cars:
```bash
curl -u admin:changeme http://127.0.0.1:8000/cars
```
Get by ID:
```bash
curl -u admin:changeme http://127.0.0.1:8000/cars/1
```
Update:
```bash
curl -u admin:changeme -X PUT http://127.0.0.1:8000/cars/1   -H "Content-Type: application/json"   -d '{"make":"Toyota","model":"Corolla","year":2021","color":"Black","price":16000.0}'
```
Delete:
```bash
curl -u admin:changeme -X DELETE http://127.0.0.1:8000/cars/1
```

## Freeze dependencies
```bash
pip freeze > requirements.txt
```

## Notes
- Storage is in-memory; data resets on restart.
